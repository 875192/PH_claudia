   1              	# 1 "../init_b.asm"
   1              	@ Asignatura: Proyecto hardware
   0              	
   0              	
   0              	
   2              	@ Fecha: 09/10/2025
   3              	@ Autores: Francisco Jose Martinez, Claudia Mateo, Nayara Gomez
   4              	@ Descripcion: Implementa rutinas ARM para actualizar y propagar candidatos en
   5              	@              tableros Sudoku 9x9. Contiene candidatos_propagar_arm,
   6              	@              candidatos_actualizar_arm_c, candidatos_actualizar_arm y
   7              	@              candidatos_actualizar_all.
   8              	
   9              	.text
  10              	
  11              	.extern celda_eliminar_candidato
  12              	.extern celda_leer_valor
  13              	.extern candidatos_propagar_c
  14              	.global candidatos_propagar_arm
  15              	.global candidatos_actualizar_arm_c
  16              	.global candidatos_actualizar_arm
  17              	.global candidatos_actualizar_all
  18              	
  19              	@ =============================================================================
  20              	@ FUNCIÓN: candidatos_propagar_arm
  21              	@ DESCRIPCIÓN: Propaga la eliminación de candidatos para una celda con valor.
  22              	@              Elimina el valor de la celda de todos los candidatos de su fila,
  23              	@              columna y región 3x3 correspondiente usando subfunciones ARM.
  24              	@ PARÁMETROS:
  25              	@   r0 - Puntero a la cuadrícula (CELDA cuadricula[9][16])
  26              	@   r1 - Número de fila (0-8)
  27              	@   r2 - Número de columna (0-8)
  28              	@ REGISTROS UTILIZADOS:
  29              	@   r4  - Puntero base a la cuadrícula (preservado durante toda la función)
  30              	@   r5  - Desplazamiento para crear máscara (valor + 6)
  31              	@   r6  - Contenido de celda actual (16 bits)
  32              	@   r7  - Máscara de eliminación (1 << (valor+6)), compartida con subfunciones
  33              	@   r8  - Valor extraído de la celda (bits 0-3)
  34              	@   r9  - Número de fila de la celda origen (preservado para subfunciones)
  35              	@   r10 - Número de columna de la celda origen (preservado para subfunciones)
  36              	@ VALOR DEVUELTO: Ninguno (void)
  37              	@ NOTA: Utiliza BL para llamar a recorrer_fila, recorrer_columna y recorrer_region
  38              	@ =============================================================================
  39              	
  40              	candidatos_propagar_arm:
  41 0000 0DC0A0E1 	        MOV     IP, SP                        
  42 0004 F0DF2DE9 	        STMDB   SP!, {r4-r10,FP,IP,LR,PC}     
  43 0008 04B04CE2 	        SUB     FP, IP, #4                   
  44              	
  45 000c 0040A0E1 	        MOV     r4, r0         
  46 0010 0190A0E1 	        MOV     r9, r1       
  47 0014 02A0A0E1 	        MOV     r10, r2        
  48 0018 09328AE0 	        ADD     r3, r10, r9, LSL #4  
  49 001c 8330A0E1 	        LSL     r3, r3, #1           
  50 0020 B36094E1 	        LDRH    r6, [r4, r3]   
  51 0024 0F8006E2 	        AND     r8, r6, #0xF     
  52 0028 065088E2 	        ADD     r5, r8, #6     
  53 002c 0170A0E3 	        MOV     r7, #1          
  54 0030 1775A0E1 	        LSL     r7, r7, r5       
  55 0034 076086E1 	        ORR     r6, r6, r7       
  56 0038 B36084E1 	        STRH    r6, [r4, r3]     
  57              	
  58 003c 020000EB 	        BL      recorrer_fila
  59 0040 0E0000EB 	        BL      recorrer_columna
  60 0044 1A0000EB 	        BL      recorrer_region
  61              	
  62 0048 F0AF1BE9 	        LDMDB   FP, {r4-r10,FP,SP,PC}          
  63              	
  64              	recorrer_fila:
  65 004c 0030A0E3 	        MOV     r3, #0          
  66              	
  67              	        bucle_fila:
  68 0050 090053E3 	                CMP     r3, #9
  69 0054 080000AA 	                BGE     fin_fila
  70 0058 0A0053E1 	                CMP     r3, r10       
  71 005c 0400000A 	                BEQ     skip_fila_mem   
  72              	
  73 0060 091283E0 	                ADD     r1, r3, r9, LSL #4     
  74 0064 8110A0E1 	                LSL     r1, r1, #1            
  75 0068 B12094E1 	                LDRH    r2, [r4, r1]    
  76 006c 072082E1 	                ORR     r2, r2, r7       
  77 0070 B12084E1 	                STRH    r2, [r4, r1]     
  78              	
  79              	                skip_fila_mem:
  80 0074 013083E2 	                        ADD     r3, r3, #1
  81 0078 F4FFFFEA 	                        B       bucle_fila
  82              	
  83              	                fin_fila:
  84 007c 1EFF2FE1 	                        BX      lr
  85              	
  86              	recorrer_columna:
  87 0080 0030A0E3 	        MOV     r3, #0          
  88              	
  89              	        bucle_columna:
  90 0084 090053E3 	                CMP     r3, #9
  91 0088 080000AA 	                BGE     fin_columna
  92 008c 090053E1 	                CMP     r3, r9       
  93 0090 0400000A 	                BEQ     skip_col_mem    
  94              	
  95 0094 03128AE0 	                ADD     r1, r10, r3, LSL #4    
  96 0098 8110A0E1 	                LSL     r1, r1, #1           
  97 009c B12094E1 	                LDRH    r2, [r4, r1]     
  98 00a0 072082E1 	                ORR     r2, r2, r7       
  99 00a4 B12084E1 	                STRH    r2, [r4, r1]   
 100              	
 101              	                skip_col_mem:
 102 00a8 013083E2 	                        ADD     r3, r3, #1
 103 00ac F4FFFFEA 	                        B       bucle_columna
 104              	
 105              	                fin_columna:
 106 00b0 1EFF2FE1 	                        BX      lr
 107              	
 108              	recorrer_region:
 109 00b4 80139FE5 	        LDR     r1, =init_region
 110 00b8 0920D1E7 	        LDRB    r2, [r1, r9]       
 111 00bc 0A30D1E7 	        LDRB    r3, [r1, r10]      
 112              	        
 113 00c0 035082E2 	        ADD     r5, r2, #3         
 114 00c4 036083E2 	        ADD     r6, r3, #3     
 115 00c8 0210A0E1 	        MOV     r1, r2            
 116              	
 117              	        bucle_region_i:
 118 00cc 050051E1 	                CMP     r1, r5
 119 00d0 0F0000AA 	                BGE     fin_region
 120 00d4 0320A0E1 	                MOV     r2, r3        
 121              	
 122              	        bucle_region_j:
 123 00d8 060052E1 	                CMP     r2, r6
 124 00dc 0A0000AA 	                BGE     fin_region_j
 125 00e0 090051E1 	                CMP     r1, r9
 126 00e4 0100001A 	                BNE     region_diferente
 127 00e8 0A0052E1 	                CMP     r2, r10
 128 00ec 0400000A 	                BEQ     salto_region_mem
 129              	
 130              	                region_diferente:
 131 00f0 010282E0 	                        ADD     r0, r2, r1, LSL #4    
 132 00f4 8000A0E1 	                        LSL     r0, r0, #1         
 133 00f8 B08094E1 	                        LDRH    r8, [r4, r0]   
 134 00fc 078088E1 	                        ORR     r8, r8, r7     
 135 0100 B08084E1 	                        STRH    r8, [r4, r0]
 136              	
 137              	                salto_region_mem:
 138 0104 012082E2 	                        ADD     r2, r2, #1
 139 0108 F2FFFFEA 	                        B       bucle_region_j
 140              	
 141              	                fin_region_j:
 142 010c 011081E2 	                        ADD     r1, r1, #1
 143 0110 EDFFFFEA 	                        B       bucle_region_i
 144              	
 145              	                fin_region:
 146 0114 1EFF2FE1 	                        BX      lr
 147              	
 148              	@ =============================================================================
 149              	@ FUNCIÓN: candidatos_actualizar_arm_c
 150              	@ DESCRIPCIÓN: Actualiza candidatos de toda la cuadrícula combinando limpieza
 151              	@              en ARM y propagación llamando a candidatos_propagar_c (función C).
 152              	@              Primero limpia todos los candidatos, luego procesa cada celda.
 153              	@ PARÁMETROS:
 154              	@   r0 - Puntero a la cuadrícula (CELDA cuadricula[9][16])
 155              	@ REGISTROS UTILIZADOS:
 156              	@   r4  - Puntero base a la cuadrícula (preservado durante toda la función)
 157              	@   r5  - Contador de celdas vacías (valor de retorno final)
 158              	@   r6  - Índice de fila actual (0-8) durante limpieza y procesamiento
 159              	@   r7  - Índice de columna actual (0-8) durante limpieza y procesamiento
 160              	@   r8  - Máscara de limpieza inicial (0x7F) para preservar bits 0-6
 161              	@   r9  - Offset temporal para calcular direcciones de memoria
 162              	@   r10 - Contenido de celda leído para verificar si tiene valor
 163              	@ LLAMADAS EXTERNAS:
 164              	@   - celda_leer_valor: extrae el valor de una celda
 165              	@   - candidatos_propagar_c: propaga eliminación de candidatos (función C)
 166              	@ VALOR DEVUELTO: r0 - Número total de celdas vacías encontradas
 167              	@ =============================================================================
 168              	
 169              	candidatos_actualizar_arm_c:
 170 0118 0DC0A0E1 	        MOV     IP, SP                         
 171 011c F0DF2DE9 	        STMDB   SP!, {r4-r10,FP,IP,LR,PC}      
 172 0120 04B04CE2 	        SUB     FP, IP, #4                      
 173              	
 174 0124 0040A0E1 	        MOV     r4, r0         
 175 0128 0050A0E3 	        MOV     r5, #0       
 176 012c 0060A0E3 	        MOV     r6, #0         
 177 0130 7F80A0E3 	        MOV     r8, #0x7F     
 178              	
 179              	        limpiar_filas:
 180 0134 090056E3 	                CMP     r6, #9
 181 0138 0B0000AA 	                BGE     fin_limpiar_filas
 182 013c 0070A0E3 	                MOV     r7, #0        
 183              	
 184              	        limpiar_columnas:
 185 0140 090057E3 	                CMP     r7, #9
 186 0144 060000AA 	                BGE     limpiar_siguiente_fila
 187              	                
 188 0148 069287E0 	                ADD     r9, r7, r6, LSL #4     
 189 014c 8990A0E1 	                LSL     r9, r9, #1
 190              	
 191 0150 B91094E1 	                LDRH    r1, [r4, r9]
 192 0154 081001E0 	                AND     r1, r1, r8
 193 0158 B91084E1 	                STRH    r1, [r4, r9]
 194              	
 195 015c 017087E2 	                ADD     r7, r7, #1      
 196 0160 F6FFFFEA 	                B       limpiar_columnas
 197              	
 198              	                limpiar_siguiente_fila:
 199 0164 016086E2 	                        ADD     r6, r6, #1
 200 0168 F1FFFFEA 	                        B       limpiar_filas
 201              	
 202              	                fin_limpiar_filas:
 203 016c 0060A0E3 	                        MOV     r6, #0          
 204              	
 205              	        bucle_filas:
 206 0170 090056E3 	                CMP     r6, #9
 207 0174 110000AA 	                BGE     fin_bucle_filas
 208 0178 0070A0E3 	                MOV     r7, #0        
 209              	
 210              	        bucle_columnas_principal:
 211 017c 090057E3 	                CMP     r7, #9
 212 0180 0C0000AA 	                BGE     fin_bucle_columnas_principal
 213              	
 214 0184 069287E0 	                ADD     r9, r7, r6, LSL #4
 215 0188 8990A0E1 	                LSL     r9, r9, #1
 216 018c B9A094E1 	                LDRH    r10, [r4, r9]         
 217 0190 0A00A0E1 	                MOV     r0, r10              
 218 0194 FEFFFFEB 	                BL      celda_leer_valor
 219              	
 220 0198 000050E3 	                CMP     r0, #0
 221 019c 01508502 	                ADDEQ   r5, r5, #1      
 222 01a0 0400A011 	                MOVNE   r0, r4          
 223 01a4 0610A011 	                MOVNE   r1, r6         
 224 01a8 0720A011 	                MOVNE   r2, r7       
 225 01ac FEFFFF1B 	                BLNE    candidatos_propagar_c
 226              	
 227 01b0 017087E2 	                ADD     r7, r7, #1  
 228 01b4 F0FFFFEA 	                B       bucle_columnas_principal
 229              	
 230              	        fin_bucle_columnas_principal:
 231 01b8 016086E2 	                ADD     r6, r6, #1
 232 01bc EBFFFFEA 	                B       bucle_filas
 233              	
 234              	        fin_bucle_filas:
 235 01c0 0500A0E1 	                MOV     r0, r5          
 236 01c4 F0AF1BE9 	                LDMDB   FP, {r4-r10,FP,SP,PC}          
 237              	
 238              	@ =============================================================================
 239              	@ FUNCIÓN: candidatos_actualizar_arm
 240              	@ DESCRIPCIÓN: Actualiza candidatos de toda la cuadrícula completamente en ARM.
 241              	@              Limpia candidatos y propaga eliminaciones llamando a 
 242              	@              candidatos_propagar_arm para cada celda con valor.
 243              	@ PARÁMETROS:
 244              	@   r0 - Puntero a la cuadrícula (CELDA cuadricula[9][16])
 245              	@ REGISTROS UTILIZADOS:
 246              	@   r4  - Puntero base a la cuadrícula (preservado durante toda la función)
 247              	@   r5  - Contador de celdas vacías (valor de retorno final)
 248              	@   r6  - Índice de fila actual (0-8) durante limpieza y procesamiento
 249              	@   r7  - Índice de columna actual (0-8) durante limpieza y procesamiento
 250              	@   r8  - Máscara de limpieza inicial (0x7F) para preservar bits 0-6
 251              	@   r9  - Offset temporal para calcular direcciones de memoria
 252              	@   r10 - Contenido de celda leído para verificar si tiene valor
 253              	@ LLAMADAS EXTERNAS:
 254              	@   - celda_leer_valor: extrae el valor de una celda
 255              	@   - candidatos_propagar_arm: propaga eliminación de candidatos (función ARM)
 256              	@ VALOR DEVUELTO: r0 - Número total de celdas vacías encontradas
 257              	@ NOTA: Versión totalmente ARM que llama a candidatos_propagar_arm
 258              	@ =============================================================================
 259              	candidatos_actualizar_arm:
 260 01c8 0DC0A0E1 	        MOV     IP, SP                        
 261 01cc F0DF2DE9 	        STMDB   SP!, {r4-r10,FP,IP,LR,PC}     
 262 01d0 04B04CE2 	        SUB     FP, IP, #4                    
 263              	
 264 01d4 0040A0E1 	        MOV     r4, r0         
 265 01d8 0050A0E3 	        MOV     r5, #0       
 266 01dc 0060A0E3 	        MOV     r6, #0         
 267 01e0 7F80A0E3 	        MOV     r8, #0x7F      
 268              	
 269              	        limpiar_filas_arm:
 270 01e4 090056E3 	                CMP     r6, #9
 271 01e8 0B0000AA 	                BGE     fin_limpiar_filas_arm
 272 01ec 0070A0E3 	                MOV     r7, #0        
 273              	
 274              	        limpiar_columnas_arm:
 275 01f0 090057E3 	                CMP     r7, #9
 276 01f4 060000AA 	                BGE     limpiar_siguiente_fila_arm
 277 01f8 069287E0 	                ADD     r9, r7, r6, LSL #4     
 278 01fc 8990A0E1 	                LSL     r9, r9, #1            
 279 0200 B91094E1 	                LDRH    r1, [r4, r9]          
 280 0204 081001E0 	                AND     r1, r1, r8            
 281 0208 B91084E1 	                STRH    r1, [r4, r9]          
 282 020c 017087E2 	                ADD     r7, r7, #1      
 283 0210 F6FFFFEA 	                B       limpiar_columnas_arm
 284              	
 285              	        limpiar_siguiente_fila_arm:
 286 0214 016086E2 	                ADD     r6, r6, #1
 287 0218 F1FFFFEA 	                B       limpiar_filas_arm
 288              	
 289              	                fin_limpiar_filas_arm:
 290 021c 0060A0E3 	                        MOV     r6, #0          
 291              	
 292              	        bucle_filas_arm:
 293 0220 090056E3 	                CMP     r6, #9
 294 0224 110000AA 	                BGE     fin_bucle_filas_arm
 295 0228 0070A0E3 	                MOV     r7, #0        
 296              	
 297              	        bucle_columnas_principal_arm:
 298 022c 090057E3 	                CMP     r7, #9
 299 0230 0C0000AA 	                BGE     fin_bucle_columnas_principal_arm
 300              	                
 301 0234 069287E0 	                ADD     r9, r7, r6, LSL #4     
 302 0238 8990A0E1 	                LSL     r9, r9, #1           
 303 023c B9A094E1 	                LDRH    r10, [r4, r9]        
 304 0240 0A00A0E1 	                MOV     r0, r10              
 305 0244 FEFFFFEB 	                BL      celda_leer_valor
 306              	                
 307 0248 000050E3 	                CMP     r0, #0
 308 024c 01508502 	                ADDEQ   r5, r5, #1     
 309 0250 0400A011 	                MOVNE   r0, r4        
 310 0254 0610A011 	                MOVNE   r1, r6        
 311 0258 0720A011 	                MOVNE   r2, r7         
 312 025c FEFFFF1B 	                BLNE    candidatos_propagar_arm
 313              	
 314 0260 017087E2 	                ADD     r7, r7, #1      
 315 0264 F0FFFFEA 	                B       bucle_columnas_principal_arm
 316              	
 317              	                fin_bucle_columnas_principal_arm:
 318 0268 016086E2 	                        ADD     r6, r6, #1
 319 026c EBFFFFEA 	                        B       bucle_filas_arm
 320              	
 321              	                fin_bucle_filas_arm:
 322 0270 0500A0E1 	                        MOV     r0, r5          
 323 0274 F0AF1BE9 	                        LDMDB   FP, {r4-r10,FP,SP,PC}          
 324              	
 325              	@ =============================================================================
 326              	@ FUNCIÓN: candidatos_actualizar_all
 327              	@ DESCRIPCIÓN: Implementación completa en ARM assembly que actualiza candidatos
 328              	@              con propagación inline. Limpia candidatos, cuenta celdas vacías
 329              	@              y propaga eliminaciones sin llamadas a funciones externas.
 330              	@ PARÁMETROS:
 331              	@   r0 - Puntero a la cuadrícula (CELDA cuadricula[9][16])
 332              	@ REGISTROS UTILIZADOS:
 333              	@   r4  - Puntero base a la cuadrícula (preservado durante toda la función)
 334              	@   r5  - Contador de celdas vacías (valor de retorno final)
 335              	@   r6  - Índice de fila principal / fila temporal en región
 336              	@   r7  - Índice de columna principal / columna temporal en región
 337              	@   r8  - Offset memoria / máscara eliminación / registro temporal multiuso
 338              	@   r9  - Máscara limpieza (0x7F) / valores recuperados desde pila
 339              	@   r10 - Contenido celda / valores recuperados desde pila
 340              	@ STACK UTILIZADO:
 341              	@   - [SP, SP+4]: Coordenadas originales (fila, columna) durante propagación
 342              	@   - [SP, SP+12]: Límites y coordenadas región durante recorrido 3x3
 343              	@ LLAMADAS EXTERNAS:
 344              	@   - celda_leer_valor: única función externa, para extraer valor de celda
 345              	@ VALOR DEVUELTO: r0 - Número total de celdas vacías encontradas
 346              	@ NOTA: Versión más optimizada con propagación inline sin llamadas a subfunciones
 347              	@ =============================================================================
 348              	candidatos_actualizar_all:
 349 0278 0DC0A0E1 	        MOV     IP, SP                        
 350 027c F0DF2DE9 	        STMDB   SP!, {r4-r10,FP,IP,LR,PC}     
 351 0280 04B04CE2 	        SUB     FP, IP, #4                   
 352              	
 353 0284 0040A0E1 	        MOV     r4, r0         
 354 0288 0050A0E3 	        MOV     r5, #0        
 355 028c 0060A0E3 	        MOV     r6, #0      
 356 0290 7F90A0E3 	        MOV     r9, #0x7F     
 357              	
 358              	        limpiar_filas_all:
 359 0294 090056E3 	                CMP     r6, #9
 360 0298 0B0000AA 	                BGE     fin_limpiar_filas_all
 361 029c 0070A0E3 	                MOV     r7, #0        
 362              	
 363              	        limpiar_columnas_all:
 364 02a0 090057E3 	                CMP     r7, #9
 365 02a4 060000AA 	                BGE     limpiar_siguiente_fila_all
 366              	                
 367 02a8 068287E0 	                ADD     r8, r7, r6, LSL #4   
 368 02ac 8880A0E1 	                LSL     r8, r8, #1           
 369 02b0 B81094E1 	                LDRH    r1, [r4, r8]          
 370 02b4 091001E0 	                AND     r1, r1, r9             
 371 02b8 B81084E1 	                STRH    r1, [r4, r8]          
 372 02bc 017087E2 	                ADD     r7, r7, #1      
 373 02c0 F6FFFFEA 	                B       limpiar_columnas_all
 374              	
 375              	                limpiar_siguiente_fila_all:
 376 02c4 016086E2 	                        ADD     r6, r6, #1
 377 02c8 F1FFFFEA 	                        B       limpiar_filas_all
 378              	
 379              	                fin_limpiar_filas_all:
 380 02cc 0060A0E3 	                        MOV     r6, #0         
 381              	
 382              	        bucle_filas_all:
 383 02d0 090056E3 	                CMP     r6, #9
 384 02d4 560000AA 	                BGE     fin_bucle_filas_all
 385              	
 386 02d8 0070A0E3 	                MOV     r7, #0        
 387              	
 388              	        bucle_columnas_principal_all:
 389 02dc 090057E3 	                CMP     r7, #9
 390 02e0 510000AA 	                BGE     fin_bucle_columnas_principal_all
 391              	
 392 02e4 068287E0 	                ADD     r8, r7, r6, LSL #4   
 393 02e8 8880A0E1 	                LSL     r8, r8, #1            
 394 02ec B8A094E1 	                LDRH    r10, [r4, r8]         
 395 02f0 0A00A0E1 	                MOV     r0, r10                
 396 02f4 FEFFFFEB 	                BL      celda_leer_valor
 397              	
 398 02f8 000050E3 	                CMP     r0, #0
 399 02fc 01508502 	                ADDEQ   r5, r5, #1            
 400 0300 4700000A 	                BEQ     salto_propagar_all     
 401              	
 402              	                @ Código inline
 403 0304 C0002DE9 	                STMDB   SP!, {r6, r7}        
 404 0308 063287E0 	                ADD     r3, r7, r6, LSL #4  
 405 030c 8330A0E1 	                LSL     r3, r3, #1           
 406 0310 B30094E1 	                LDRH    r0, [r4, r3]     
 407 0314 0F1000E2 	                AND     r1, r0, #0xF          
 408 0318 062081E2 	                ADD     r2, r1, #6            
 409 031c 0180A0E3 	                MOV     r8, #1          
 410 0320 1882A0E1 	                LSL     r8, r8, r2            
 411 0324 080080E1 	                ORR     r0, r0, r8       
 412 0328 B30084E1 	                STRH    r0, [r4, r3]     
 413 032c 0030A0E3 	                MOV     r3, #0        
 414              	
 415              	                bucle_fila_all:
 416 0330 090053E3 	                        CMP     r3, #9
 417 0334 0A0000AA 	                        BGE     fin_fila_all
 418              	
 419 0338 04909DE5 	                        LDR     r9, [SP, #4]        
 420 033c 090053E1 	                        CMP     r3, r9                
 421 0340 0500000A 	                        BEQ     salto_fila           
 422              	
 423 0344 00A09DE5 	                        LDR     r10, [SP]           
 424 0348 0A1283E0 	                        ADD     r1, r3, r10, LSL #4   
 425 034c 8110A0E1 	                        LSL     r1, r1, #1           
 426 0350 B12094E1 	                        LDRH    r2, [r4, r1]          
 427 0354 082082E1 	                        ORR     r2, r2, r8            
 428 0358 B12084E1 	                        STRH    r2, [r4, r1]          
 429              	
 430              	                salto_fila:
 431 035c 013083E2 	                        ADD     r3, r3, #1      
 432 0360 F2FFFFEA 	                        B       bucle_fila_all        
 433              	
 434              	                fin_fila_all:
 435 0364 0030A0E3 	                        MOV     r3, #0          
 436              	
 437              	                bucle_columna_all:
 438 0368 090053E3 	                        CMP     r3, #9
 439 036c 0A0000AA 	                        BGE     fin_columna_all
 440              	
 441 0370 00A09DE5 	                        LDR     r10, [SP]             
 442 0374 0A0053E1 	                        CMP     r3, r10               
 443 0378 0500000A 	                        BEQ     salto_columna    
 444              	
 445 037c 04909DE5 	                        LDR     r9, [SP, #4]          
 446 0380 031289E0 	                        ADD     r1, r9, r3, LSL #4   
 447 0384 8110A0E1 	                        LSL     r1, r1, #1         
 448              	
 449 0388 B12094E1 	                        LDRH    r2, [r4, r1]        
 450 038c 082082E1 	                        ORR     r2, r2, r8            
 451 0390 B12084E1 	                        STRH    r2, [r4, r1]          
 452              	
 453              	                salto_columna:
 454 0394 013083E2 	                        ADD     r3, r3, #1      
 455 0398 F2FFFFEA 	                        B       bucle_columna_all     
 456              	
 457              	                fin_columna_all:
 458 039c 98109FE5 	                        LDR     r1, =init_region
 459 03a0 00A09DE5 	                        LDR     r10, [SP]            
 460 03a4 04909DE5 	                        LDR     r9, [SP, #4]        
 461 03a8 0A20D1E7 	                        LDRB    r2, [r1, r10]         
 462 03ac 0930D1E7 	                        LDRB    r3, [r1, r9]          
 463              	                        
 464 03b0 030082E2 	                        ADD     r0, r2, #3           
 465 03b4 031083E2 	                        ADD     r1, r3, #3          
 466 03b8 0F002DE9 	                        STMDB   SP!, {r0, r1, r2, r3} 
 467              	                        
 468 03bc 0260A0E1 	                        MOV     r6, r2                
 469              	
 470              	                bucle_region_i_all:
 471 03c0 00009DE5 	                        LDR     r0, [SP]              
 472 03c4 000056E1 	                        CMP     r6, r0            
 473 03c8 130000AA 	                        BGE     fin_region_all
 474 03cc 0C709DE5 	                        LDR     r7, [SP, #12]         
 475 03d0 0720A0E1 	                        MOV     r2, r7               
 476              	
 477              	                bucle_region_j_all:
 478 03d4 04109DE5 	                        LDR     r1, [SP, #4]          
 479 03d8 010052E1 	                        CMP     r2, r1             
 480 03dc 0C0000AA 	                        BGE     fin_region_j_all
 481              	
 482 03e0 10A09DE5 	                        LDR     r10, [SP, #16]       
 483 03e4 14909DE5 	                        LDR     r9, [SP, #20]         
 484              	                        
 485 03e8 0A0056E1 	                        CMP     r6, r10               
 486 03ec 0100001A 	                        BNE     region_diferente_all
 487 03f0 090052E1 	                        CMP     r2, r9                
 488 03f4 0400000A 	                        BEQ     salto_region 
 489              	
 490              	                region_diferente_all:
 491 03f8 063282E0 	                        ADD     r3, r2, r6, LSL #4   
 492 03fc 8330A0E1 	                        LSL     r3, r3, #1            
 493              	                        
 494 0400 B30094E1 	                        LDRH    r0, [r4, r3]     
 495 0404 080080E1 	                        ORR     r0, r0, r8            
 496 0408 B30084E1 	                        STRH    r0, [r4, r3]          
 497              	
 498              	                salto_region:
 499 040c 012082E2 	                        ADD     r2, r2, #1            
 500 0410 EFFFFFEA 	                        B       bucle_region_j_all    
 501              	
 502              	                fin_region_j_all:
 503 0414 016086E2 	                        ADD     r6, r6, #1            
 504 0418 E8FFFFEA 	                        B       bucle_region_i_all    
 505              	
 506              	                fin_region_all:
 507 041c 10D08DE2 	                        ADD     SP, SP, #16           
 508 0420 08D08DE2 	                        ADD     SP, SP, #8            
 509              	
 510              	                salto_propagar_all:        
 511 0424 017087E2 	                        ADD     r7, r7, #1     
 512 0428 ABFFFFEA 	                        B       bucle_columnas_principal_all
 513              	
 514              	                fin_bucle_columnas_principal_all:
 515 042c 016086E2 	                        ADD     r6, r6, #1      
 516 0430 A6FFFFEA 	                        B       bucle_filas_all       
 517              	
 518              	        fin_bucle_filas_all:
 519 0434 0500A0E1 	                MOV     r0, r5          
 520 0438 F0AF1BE9 	                LDMDB   FP, {r4-r10,FP,SP,PC}
 521              	                
 522              	    .data
 523              	init_region:
 524 0000 00000003 	     .byte     0,0,0,3,3,3,6,6,6
 524      03030606 
 524      06
 525              	
 526              	.end
DEFINED SYMBOLS
       ../init_b.asm:40     .text:00000000 candidatos_propagar_arm
       ../init_b.asm:169    .text:00000118 candidatos_actualizar_arm_c
       ../init_b.asm:259    .text:000001c8 candidatos_actualizar_arm
       ../init_b.asm:348    .text:00000278 candidatos_actualizar_all
       ../init_b.asm:41     .text:00000000 $a
       ../init_b.asm:64     .text:0000004c recorrer_fila
       ../init_b.asm:86     .text:00000080 recorrer_columna
       ../init_b.asm:108    .text:000000b4 recorrer_region
       ../init_b.asm:67     .text:00000050 bucle_fila
       ../init_b.asm:83     .text:0000007c fin_fila
       ../init_b.asm:79     .text:00000074 skip_fila_mem
       ../init_b.asm:89     .text:00000084 bucle_columna
       ../init_b.asm:105    .text:000000b0 fin_columna
       ../init_b.asm:101    .text:000000a8 skip_col_mem
       ../init_b.asm:523    .data:00000000 init_region
       ../init_b.asm:117    .text:000000cc bucle_region_i
       ../init_b.asm:145    .text:00000114 fin_region
       ../init_b.asm:122    .text:000000d8 bucle_region_j
       ../init_b.asm:141    .text:0000010c fin_region_j
       ../init_b.asm:130    .text:000000f0 region_diferente
       ../init_b.asm:137    .text:00000104 salto_region_mem
       ../init_b.asm:179    .text:00000134 limpiar_filas
       ../init_b.asm:202    .text:0000016c fin_limpiar_filas
       ../init_b.asm:184    .text:00000140 limpiar_columnas
       ../init_b.asm:198    .text:00000164 limpiar_siguiente_fila
       ../init_b.asm:205    .text:00000170 bucle_filas
       ../init_b.asm:234    .text:000001c0 fin_bucle_filas
       ../init_b.asm:210    .text:0000017c bucle_columnas_principal
       ../init_b.asm:230    .text:000001b8 fin_bucle_columnas_principal
       ../init_b.asm:269    .text:000001e4 limpiar_filas_arm
       ../init_b.asm:289    .text:0000021c fin_limpiar_filas_arm
       ../init_b.asm:274    .text:000001f0 limpiar_columnas_arm
       ../init_b.asm:285    .text:00000214 limpiar_siguiente_fila_arm
       ../init_b.asm:292    .text:00000220 bucle_filas_arm
       ../init_b.asm:321    .text:00000270 fin_bucle_filas_arm
       ../init_b.asm:297    .text:0000022c bucle_columnas_principal_arm
       ../init_b.asm:317    .text:00000268 fin_bucle_columnas_principal_arm
       ../init_b.asm:358    .text:00000294 limpiar_filas_all
       ../init_b.asm:379    .text:000002cc fin_limpiar_filas_all
       ../init_b.asm:363    .text:000002a0 limpiar_columnas_all
       ../init_b.asm:375    .text:000002c4 limpiar_siguiente_fila_all
       ../init_b.asm:382    .text:000002d0 bucle_filas_all
       ../init_b.asm:518    .text:00000434 fin_bucle_filas_all
       ../init_b.asm:388    .text:000002dc bucle_columnas_principal_all
       ../init_b.asm:514    .text:0000042c fin_bucle_columnas_principal_all
       ../init_b.asm:510    .text:00000424 salto_propagar_all
       ../init_b.asm:415    .text:00000330 bucle_fila_all
       ../init_b.asm:434    .text:00000364 fin_fila_all
       ../init_b.asm:430    .text:0000035c salto_fila
       ../init_b.asm:437    .text:00000368 bucle_columna_all
       ../init_b.asm:457    .text:0000039c fin_columna_all
       ../init_b.asm:453    .text:00000394 salto_columna
       ../init_b.asm:470    .text:000003c0 bucle_region_i_all
       ../init_b.asm:506    .text:0000041c fin_region_all
       ../init_b.asm:477    .text:000003d4 bucle_region_j_all
       ../init_b.asm:502    .text:00000414 fin_region_j_all
       ../init_b.asm:490    .text:000003f8 region_diferente_all
       ../init_b.asm:498    .text:0000040c salto_region
       ../init_b.asm:522    .text:0000043c $d
                   .debug_aranges:0000000c $d

UNDEFINED SYMBOLS
celda_leer_valor
candidatos_propagar_c
